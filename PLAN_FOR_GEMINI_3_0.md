# Gemini 3.0+ AIë¥¼ ìœ„í•œ Babycare AI ê°œì„  ê³„íš ë¬¸ì„œ

## 1. ë¬¸ì„œ ê°œìš” (Document Overview)

ì´ ë¬¸ì„œëŠ” Babycare AI ì„œë¹„ìŠ¤ì˜ ì‚¬ìš©ì ê²½í—˜ ë° ê¸°ëŠ¥ ê°œì„ ì„ ìœ„í•´ Gemini 3.0 ë˜ëŠ” ê·¸ ì´ìƒì˜ ì§€ëŠ¥ì„ ê°€ì§„ AIì—ê²Œ ì „ë‹¬í•  ìƒì„¸ ê³„íšì…ë‹ˆë‹¤. ë³µì¡í•œ ì‚¬ìš©ì íë¦„ ë¬¸ì œì™€ ê¸°ì¡´ ê¸°ëŠ¥ ê°œì„ ì„ í¬í•¨í•˜ë©°, AIëŠ” ì´ ë¬¸ì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¶„ì„í•˜ê³  êµ¬ì²´ì ì¸ êµ¬í˜„ì„ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

**ëª©í‘œ:**
*   ì‚¬ìš©ì íë¦„ì˜ ì¼ê´€ì„± ë° ê²¬ê³ ì„± í™•ë³´
*   í•µì‹¬ ê¸°ëŠ¥(í‚¤ ì²´ì¤‘ ê¸°ë¡, ì¼ì • ê´€ë¦¬)ì˜ ì‚¬ìš©ì í¸ì˜ì„± ì¦ëŒ€
*   UI/UX ê°œì„ ì„ í†µí•œ ì‹œê°ì  ë§Œì¡±ë„ í–¥ìƒ
*   ë²„ê·¸ ìˆ˜ì • ë° ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™”

**ëŒ€ìƒ AIì˜ ê¸°ëŒ€ ëŠ¥ë ¥:**
*   ì œì‹œëœ ì½”ë“œë² ì´ìŠ¤ êµ¬ì¡° ë° í”„ë ˆì„ì›Œí¬(Next.js, React, Prisma, shadcn-ui, Tailwind CSS)ì— ëŒ€í•œ ê¹Šì€ ì´í•´
*   SOLID ì›ì¹™ ë° í´ë¦° ì•„í‚¤í…ì²˜ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ëŠ” ì½”ë“œ ì‘ì„±
*   ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ë° ìœ í‹¸ë¦¬í‹°ì˜ ì¬ì‚¬ìš© ë° í™•ì¥ ëŠ¥ë ¥
*   ë³µì¡í•œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤(íŠ¹íˆ ì¸ì¦, ë¦¬ë‹¤ì´ë ‰ì…˜, ë°ì´í„° ë™ê¸°í™”)ì— ëŒ€í•œ ë…¼ë¦¬ì ì¸ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥
*   ì£¼ì–´ì§„ ìš”êµ¬ì‚¬í•­ì„ ë°”íƒ•ìœ¼ë¡œ í•„ìš”í•œ ì½”ë“œ ë³€ê²½ ì‚¬í•­(íŒŒì¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œ)ì„ ì •í™•í•˜ê²Œ ì‹ë³„í•˜ê³  êµ¬í˜„
*   ì ì ˆí•œ ìœ„ì¹˜ì— ì£¼ì„ ë° íƒ€ì… ì •ì˜ ì¶”ê°€ (í•„ìš” ì‹œ)
*   ì‘ì—… ì™„ë£Œ í›„ ê¸°ëŠ¥ ë° í†µí•© í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± (ì„ íƒ ì‚¬í•­ì´ë‚˜ ê¶Œì¥)

**í•µì‹¬ ì›ì¹™:**
*   **SOLID ì›ì¹™ ì¤€ìˆ˜:** ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì„±, í™•ì¥ì„±, ì¬ì‚¬ìš©ì„± í–¥ìƒ.
*   **ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©:** `shadcn-ui` ì»´í¬ë„ŒíŠ¸ ë° ê¸°ì¡´ ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸(ì˜ˆ: `ActivityList` íŒ¨í„´)ë¥¼ ìµœëŒ€í•œ í™œìš©.
*   **ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜:** íŠ¹íˆ ì•„ê¸° ë“±ë¡ ë° ê°€ì¡± ê´€ë¦¬ íë¦„ì—ì„œ ì¼ê´€ì„± ìœ ì§€.

## 2. í˜„ì¬ ìƒíƒœ ìš”ì•½ (Current State Summary)

### 2.1. ê¸°ì¡´ ìš”ì²­ ì‚¬í•­ ë¶„ì„ ê²°ê³¼

*   **ìš”ì²­ 1: í‚¤ ì²´ì¤‘ ê¸°ë¡ í™”ë©´ ê°œì„ **
    *   **í˜„ì¬ ìƒíƒœ:** `src/features/measurements` ëª¨ë“ˆì— í‚¤/ì²´ì¤‘ ê¸°ë¡ ê´€ë ¨ ë¡œì§(`actions.ts`, `repositories`, `services`) ë° UI ì»´í¬ë„ŒíŠ¸(`MeasurementCard`, `AddMeasurementForm`, `GrowthChart`)ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” `AddMeasurementForm` ë‚´ì—ì„œ ê°€ì¥ ìµœê·¼ ê¸°ë¡(`latestMeasurement`)ë§Œ í‘œì‹œí•˜ë©°, ê¸°ì¡´ ê¸°ë¡ì— ëŒ€í•œ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ì€ ì—†ìŠµë‹ˆë‹¤.
    *   **ì˜ê° ì†ŒìŠ¤:** `src/features/activities` ëª¨ë“ˆì˜ `ActivityList`, `ActivityCard`, `EditActivityDialog`ëŠ” í™œë™ ê¸°ë¡ ëª©ë¡ í‘œì‹œ, ê°œë³„ í™œë™ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ì„ ì˜ êµ¬í˜„í•˜ê³  ìˆìŠµë‹ˆë‹¤.

*   **ìš”ì²­ 2: ê°€ì¡± í˜ì´ì§€ - ì•„ê¸° ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ë¯¸í‘œì‹œ**
    *   **í˜„ì¬ ìƒíƒœ:** `src/features/families/components/FamilyManagementPage.tsx`ëŠ” `BabyCard` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ê¸° ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤. `BabyCard.tsx` ë‚´ë¶€ì—ëŠ” `canEdit` propì— ë”°ë¼ ìˆ˜ì •(`Edit` ì•„ì´ì½˜) ë° ì‚­ì œ(`Trash2` ì•„ì´ì½˜) ë²„íŠ¼ì´ ì¡°ê±´ë¶€ë¡œ ë Œë”ë§ë˜ë„ë¡ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. `handleEditBaby` ë° `handleDeleteBaby` í•¨ìˆ˜ë„ `FamilyManagementPage.tsx`ì— ì •ì˜ë˜ì–´ `BabyCard`ì— propìœ¼ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
    *   **ë¬¸ì œ ì¶”ì •:** ë²„íŠ¼ì´ ë³´ì´ì§€ ì•ŠëŠ” ì›ì¸ì€ í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ `currentUserPermission`ì´ "owner" ë˜ëŠ” "admin"ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì¼ ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤. ê¸°ëŠ¥ ìì²´ëŠ” êµ¬í˜„ë˜ì–´ ìˆìœ¼ë‚˜ ê¶Œí•œ ë¬¸ì œë¡œ UIê°€ ìˆ¨ê²¨ì§„ ê²ƒì…ë‹ˆë‹¤.

*   **ìš”ì²­ 3: ê°€ì¡± í˜ì´ì§€ - ì¹´ë“œ ì—¬ë°± ë¬¸ì œ**
    *   **í˜„ì¬ ìƒíƒœ:** `src/features/families/components/FamilyManagementPage.tsx`ì—ì„œ "ë‚´ í”„ë¡œí•„ í¸ì§‘"(`EditMyProfileCard`), "ê°€ì¡± ê´€ë¦¬" ì¹´ë“œ(ê°€ì¡± ë‚˜ê°€ê¸°/ì‚­ì œ ë²„íŠ¼ í¬í•¨), "ìš°ë¦¬ ì•„ê¸°ë“¤" ì¹´ë“œ ì£¼ë³€ì˜ ì—¬ë°±ì´ ë¶€ì¡±í•˜ë‹¤ëŠ” í”¼ë“œë°±ì´ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë²„íŠ¼ë“¤ì´ ì¹´ë“œ ë°•ìŠ¤ì— ë¶™ì–´ ë³´ì´ëŠ” í˜„ìƒì´ ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤. `SPACING` ìœ í‹¸ë¦¬í‹°ì™€ `CardContent` ì»´í¬ë„ŒíŠ¸ê°€ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

*   **ìš”ì²­ 4: í™ˆ í™”ë©´ - ìƒˆ ì¼ì • ì¶”ê°€ ë²„íŠ¼**
    *   **í˜„ì¬ ìƒíƒœ:** ì‚¬ìš©ìê»˜ì„œ ë§ì”€í•˜ì‹  "í™ˆ í™”ë©´"ì€ ì‹¤ì œë¡œëŠ” íŠ¹ì • ì•„ê¸°ì˜ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ì¸ `src/app/babies/[id]/page.tsx`ì¸ ê²ƒìœ¼ë¡œ íŒŒì•…ë©ë‹ˆë‹¤. ì´ í˜ì´ì§€ì˜ "activities" íƒ­ ìµœìƒë‹¨ì— `CompactScheduleCarousel` ì»´í¬ë„ŒíŠ¸ê°€ "ë‹¤ìŒ ì¼ì • ì²´í¬ ë°•ìŠ¤" ì—­í• ì„ í•©ë‹ˆë‹¤. í˜„ì¬ ì´ ì»´í¬ë„ŒíŠ¸ ë‚´ì— ì¼ì •ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì€ ì—†ìŠµë‹ˆë‹¤.

### 2.2. "ê°€ì¡± ë‚˜ê°€ê¸°" ì´í›„ íë¦„ì— ëŒ€í•œ ì¶”ê°€ í”¼ë“œë°± ë° ë¬¸ì œì 

ìµœê·¼ "ê°€ì¡± ë‚˜ê°€ê¸°" ê¸°ëŠ¥ ì‚¬ìš© í›„ ìƒˆë¡œìš´ ê°€ì¡±/ì•„ê¸°ë¥¼ ë“±ë¡í•˜ëŠ” ê³¼ì •ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì¤‘ëŒ€í•œ ì‚¬ìš©ì íë¦„ ë° ê¸°ëŠ¥ ë¬¸ì œì ë“¤ì´ ì‹ë³„ë˜ì—ˆìŠµë‹ˆë‹¤.

*   **ì‹ ê·œ ë¬¸ì œ 1: ìƒˆ ì•„ê¸° ë“±ë¡ ì‹œ ê¶Œí•œ ë¬¸ì œ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)**
    *   **ë¬¸ì œ:** ê¸°ì¡´ ê°€ì¡±ì—ì„œ ë‚˜ê°„ í›„, ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ ì•„ê¸°ë¥¼ ë“±ë¡í•˜ì—¬ ê°€ì¡±ì„ ìƒì„±í•  ë•Œ, í•´ë‹¹ ì‚¬ìš©ìê°€ ìë™ìœ¼ë¡œ ìƒˆ ê°€ì¡±ì˜ "owner" ê¶Œí•œì„ ê°€ì ¸ì•¼ í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” "êµ¬ì„±ì›(member)" ë“±ê¸‰ìœ¼ë¡œ ë“±ë¡ë˜ëŠ” ë²„ê·¸ê°€ ìˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ìƒˆë¡œìš´ ê°€ì¡±ì˜ ê´€ë¦¬ ê¸°ëŠ¥(ì˜ˆ: ì•„ê¸° ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼)ì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.
    *   **ì˜í–¥ ì»´í¬ë„ŒíŠ¸/ë¡œì§:** `CreateBabyForm` (`src/features/babies/components/CreateBabyForm.tsx`), ì•„ê¸° ìƒì„± ê´€ë ¨ `actions.ts` ë° ë°±ì—”ë“œ ë¡œì§(`services`, `repositories`, `api` ì—”ë“œí¬ì¸íŠ¸).

*   **ì‹ ê·œ ë¬¸ì œ 2: ìƒˆ ì•„ê¸° ë“±ë¡ í›„ 2ë…„ê°„ì˜ ì¼ì • ìë™ ìƒì„± ë¯¸í™•ì¸ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)**
    *   **ë¬¸ì œ:** ìƒˆ ì•„ê¸° ë“±ë¡ ì‹œ 2ë…„ê°„ì˜ ìƒ˜í”Œ ì¼ì •ì´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§ì€ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë‚˜, ë“±ë¡ ì™„ë£Œ ì§í›„ ì‚¬ìš©ìì—ê²Œ ì´ ì¼ì •ì´ ëª…í™•í•˜ê²Œ ì œì‹œë˜ê±°ë‚˜ í™•ì¸ì„ ìœ ë„í•˜ëŠ” UI í”¼ë“œë°±ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì¼ì •ì´ ìƒì„±ëœ ê²ƒ ê°™ìœ¼ë‚˜, ë³¸ì¸ì˜ ì•„ê¸° ì¼ì •ì¸ì§€ í™•ì‹ í•˜ì§€ ëª»í•˜ê³  í˜¼ë€ìŠ¤ëŸ¬ì›Œí•©ë‹ˆë‹¤. "í™•ì¸ ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í™ˆ(ê¸°ë¡)í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤"ëŠ” ë¡œì§ì´ ìˆì§€ë§Œ, ì´ í™•ì¸ ë²„íŠ¼ì´ ë¬´ì—‡ì„ í™•ì¸í•˜ëŠ”ì§€ì— ëŒ€í•œ ëª…í™•ì„±ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.
    *   **ì˜í–¥ ì»´í¬ë„ŒíŠ¸/ë¡œì§:** `CreateBabyForm`ì˜ `onSuccess` í•¸ë“¤ëŸ¬ ì´í›„ì˜ ë¦¬ë‹¤ì´ë ‰ì…˜ íë¦„(`src/app/page.tsx` -> `/babies/[id]`), ì¼ì • ìƒì„± ì„œë¹„ìŠ¤(`src/features/schedules`).

*   **ì‹ ê·œ ë¬¸ì œ 3: ì•„ê¸° ë“±ë¡ í™”ë©´ì˜ UI/UX ë¬¸ì œ (ì»¨í…Œì´ë„ˆ ì—¬ë°± ë° ì¼ê´€ì„±)**
    *   **ë¬¸ì œ:** `CreateBabyForm` (`src/features/babies/components/CreateBabyForm.tsx`)ì„ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆì˜ ìƒí•˜ ì—¬ë°±ì´ ë¶€ì¡±í•˜ì—¬ UIê°€ ë‹µë‹µí•´ ë³´ì…ë‹ˆë‹¤. ë˜í•œ, ì—¬ëŸ¬ ìƒí™©ì—ì„œ ì•„ê¸° ë“±ë¡ UIê°€ í˜¸ì¶œë  ë•Œ ìŠ¤íƒ€ì¼ì˜ ì¼ê´€ì„±ì´ ë¶€ì¡±í•œ í˜„ìƒì´ ê´€ì°°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    *   **ì˜í–¥ ì»´í¬ë„ŒíŠ¸/ë¡œì§:** `src/app/page.tsx` (ì•„ê¸° ë“±ë¡ í¼ì„ ë Œë”ë§í•˜ëŠ” ê³³), `src/features/babies/components/CreateBabyForm.tsx` ë° ê·¸ ë¶€ëª¨ ì»¨í…Œì´ë„ˆ.

*   **ì‹ ê·œ ë¬¸ì œ 4: ì‚¬ìš©ì ê¸¸ ìƒëŠ” í˜„ìƒ ë°©ì§€ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)**
    *   **ë¬¸ì œ:** ë“±ë¡ëœ ì•„ê¸°(ë° ê°€ì¡±)ê°€ ì—†ëŠ” ìƒíƒœì—ì„œ ì‚¬ìš©ìê°€ ì•„ê¸° ë“±ë¡ í™”ë©´(`src/app/add-baby/page.tsx` ë˜ëŠ” `src/app/page.tsx`ì—ì„œ ë Œë”ë§ë˜ëŠ” `CreateBabyForm`)ì„ ì´íƒˆí•˜ì—¬ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ë ¤ê³  í•  ê²½ìš°, ë‹¤ì‹œ ì•„ê¸° ë“±ë¡ í™”ë©´ìœ¼ë¡œ ìë™ ìœ ë„ë˜ì§€ ì•Šì•„ ì‚¬ìš©ìê°€ í˜¼ë€ì„ ê²ªê³  "ê¸¸ì„ ìƒëŠ”" í˜„ìƒì´ ë°œìƒí•©ë‹ˆë‹¤. í˜„ì¬ëŠ” ë¡œê·¸ì•„ì›ƒ í›„ ì¬ë¡œê·¸ì¸í•´ì•¼ë§Œ ì•„ê¸° ë“±ë¡ í™”ë©´ìœ¼ë¡œ ë‹¤ì‹œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    *   **í•´ê²° ë°©ì•ˆ:** ë“±ë¡ëœ ì•„ê¸°ê°€ ì—†ëŠ” ì‚¬ìš©ì(`!mainBaby`)ê°€ `"/login"`, `"/add-baby"`, **`"/family"`** ë¥¼ ì œì™¸í•œ ë‹¤ë¥¸ ê²½ë¡œë¡œ ì ‘ê·¼í•˜ë ¤ í•  ë•Œ, ë¬´ì¡°ê±´ `"/add-baby"` (ì•„ê¸° ë“±ë¡ í¼ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€)ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ë˜ë„ë¡ ë¯¸ë“¤ì›¨ì–´ ë˜ëŠ” ì „ì—­ ë¡œì§ êµ¬í˜„. `/family` í˜ì´ì§€ëŠ” ì•„ê¸°/ê°€ì¡± ë“±ë¡ì„ ìœ„í•œ ì„ íƒì§€(ê°€ì¡± ì°¸ì—¬ ë˜ëŠ” ìƒˆ ê°€ì¡± ë§Œë“¤ê¸°)ë¥¼ ì œê³µí•˜ëŠ” í—ˆë¸Œ ì—­í• ì„ í•˜ë„ë¡ ì˜ë„ë˜ì—ˆìŠµë‹ˆë‹¤.
    *   **ì˜í–¥ ì»´í¬ë„ŒíŠ¸/ë¡œì§:** `middleware.ts` (ì „ì—­ ë¦¬ë‹¤ì´ë ‰ì…˜ ì²˜ë¦¬), ë˜ëŠ” `src/app/layout.tsx` ë˜ëŠ” `src/app/page.tsx`ì™€ ê°™ì€ ìµœìƒìœ„ í˜ì´ì§€/ë ˆì´ì•„ì›ƒ.

*   **ì‹ ê·œ ë¬¸ì œ 5: ê°€ì¡± í˜ì´ì§€ ì§„ì… ì‹œ ì„ íƒì§€ ë¶€ì¡± (ê°€ì¡± ë‚˜ê°€ê¸° í›„)**
    *   **ë¬¸ì œ:** ê¸°ì¡´ ê°€ì¡±ì„ ë‚˜ê°„ í›„ ê°€ì¡± í˜ì´ì§€(`src/app/family/page.tsx`ê°€ ë Œë”ë§í•˜ëŠ” `FamilyManagementPage.tsx`)ë¡œ ì§„ì…í•˜ë©´, `!familyData` (ê°€ì¡±ì´ ì—†ëŠ” ìƒíƒœ)ì¼ ë•Œ "ì´ˆëŒ€ ì½”ë“œë¡œ ê°€ì¡± ì°¸ì—¬" ì˜µì…˜ë§Œ ì œê³µë˜ê³  "ìƒˆë¡œìš´ ê°€ì¡± ë§Œë“¤ê¸°"ì™€ ê°™ì€ ëª…í™•í•œ ì‹œì‘ ì˜µì…˜ì´ ì—†ìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ ê°€ì¡±ì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ê²½ë¡œë¥¼ ì°¾ê¸° ì–´ë µìŠµë‹ˆë‹¤.
    *   **ì˜í–¥ ì»´í¬ë„ŒíŠ¸/ë¡œì§:** `FamilyManagementPage.tsx` (`!familyData` ì¡°ê±´ë¶€ ë Œë”ë§ ì„¹ì…˜).

## 3. ê° ë¬¸ì œì ë³„ ìƒì„¸ ë¶„ì„ ë° í•´ê²° ë°©ì•ˆ (Detailed Problem Analysis & Solutions)

AIëŠ” ì•„ë˜ ì œì‹œëœ ë¶„ì„ê³¼ í•´ê²° ë°©ì•ˆì„ ë°”íƒ•ìœ¼ë¡œ êµ¬í˜„ì„ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ì½”ë“œë² ì´ìŠ¤ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì¡´ì¤‘í•˜ê³ , ê¸°ì¡´ íŒ¨í„´ì„ ë”°ë¥´ë©°, ì¼ê´€ëœ ì½”ë”© ìŠ¤íƒ€ì¼ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

### 3.1. ìš”ì²­ 1: í‚¤ ì²´ì¤‘ ê¸°ë¡ í™”ë©´ ê°œì„  (íˆìŠ¤í† ë¦¬ ëª©ë¡, ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥)

**ë¶„ì„:**
*   `src/features/measurements` ëª¨ë“ˆì€ ì´ë¯¸ í‚¤/ì²´ì¤‘ ìƒì„±(`createMeasurement`), ìµœì‹  ê¸°ë¡ ì¡°íšŒ(`getLatestMeasurement`), ì „ì²´ ê¸°ë¡ ì¡°íšŒ(`getMeasurementHistory`) ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. `IMeasurementRepository`, `PrismaMeasurementRepository`, `actions.ts`, `services`ê°€ ì˜ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
*   `src/features/activities` ëª¨ë“ˆì˜ `ActivityList`, `ActivityCard`, `EditActivityDialog`ëŠ” ìœ ì‚¬í•œ 'ê¸°ë¡ ëª©ë¡ í‘œì‹œ', 'ê°œë³„ ê¸°ë¡ ìˆ˜ì •/ì‚­ì œ' ê¸°ëŠ¥ì„ ìœ„í•œ ì¢‹ì€ ë ˆí¼ëŸ°ìŠ¤ì…ë‹ˆë‹¤. íŠ¹íˆ `ActivityCard`ëŠ” ì‚­ì œ í™•ì¸ ëª¨ë‹¬ ë° `EditActivityDialog` í˜¸ì¶œì„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **ë°ì´í„° ê³„ì¸µ í™•ì¥:**
    *   **`src/features/measurements/repositories/IMeasurementRepository.ts` ìˆ˜ì •:**
        *   ë‹¤ìŒ ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:
            ```typescript
            update(id: string, data: Partial<CreateMeasurementData>): Promise<BabyMeasurement>;
            delete(id: string): Promise<BabyMeasurement>;
            ```
    *   **`src/features/measurements/repositories/PrismaMeasurementRepository.ts` ìˆ˜ì •:**
        *   `IMeasurementRepository` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ `PrismaMeasurementRepository` í´ë˜ìŠ¤ì— ë‹¤ìŒ ë©”ì„œë“œë“¤ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
            ```typescript
            async update(id: string, data: Partial<CreateMeasurementData>): Promise<BabyMeasurement> {
              return await prisma.babyMeasurement.update({
                where: { id },
                data,
              });
            }

            async delete(id: string): Promise<BabyMeasurement> {
              return await prisma.babyMeasurement.delete({
                where: { id },
              });
            }
            ```
            *(ì°¸ê³ : `Prisma.ActivityCreateInput`ê³¼ ìœ ì‚¬í•˜ê²Œ `Prisma.BabyMeasurementUpdateInput` ë˜ëŠ” `Prisma.BabyMeasurementDeleteInput`ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.)*

2.  **ì„œë¹„ìŠ¤ ê³„ì¸µ ì¶”ê°€:**
    *   **`src/features/measurements/services/updateMeasurementService.ts` (ì‹ ê·œ):**
        *   `createMeasurementService.ts`ì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¡œ `IMeasurementRepository`ë¥¼ ì£¼ì…ë°›ì•„ `repository.update(id, data)`ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
        *   ì—…ë°ì´íŠ¸í•  ë°ì´í„°(`data`)ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬(ì˜ˆ: `weight`, `height`ê°€ 0ë³´ë‹¤ í°ì§€ ë“±) ë¡œì§ì„ í¬í•¨í•©ë‹ˆë‹¤.
    *   **`src/features/measurements/services/deleteMeasurementService.ts` (ì‹ ê·œ):**
        *   `IMeasurementRepository`ë¥¼ ì£¼ì…ë°›ì•„ `repository.delete(id)`ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
        *   ì‚­ì œ ì „ í•´ë‹¹ ì¸¡ì • ê¸°ë¡ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ì„ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3.  **ì•¡ì…˜ ê³„ì¸µ ë…¸ì¶œ:**
    *   **`src/features/measurements/actions.ts` ìˆ˜ì •:**
        *   `repository` ì¸ìŠ¤í„´ìŠ¤(`const repository = new PrismaMeasurementRepository();`)ëŠ” ì´ë¯¸ ì¡´ì¬í•˜ë¯€ë¡œ ì´ë¥¼ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.
        *   ë‹¤ìŒ Server Actionsë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:
            ```typescript
            import { getServerSession } from "next-auth"; // ì„¸ì…˜ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            import { authOptions } from "@/app/api/auth/[...nextauth]/route"; // authOptions ê²½ë¡œ í™•ì¸
            // ... ê¸°ì¡´ import ìœ ì§€

            // ... (ê¸°ì¡´ createMeasurement, getLatestMeasurement, getMeasurementHistory í•¨ìˆ˜)

            export async function updateMeasurement(
              id: string,
              data: Partial<CreateMeasurementData>
            ): Promise<{ success: boolean; data?: BabyMeasurement; error?: string }> {
              const session = await getServerSession(authOptions);
              if (!session?.user?.id) {
                return { success: false, error: "ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ ì¸¡ì • ê¸°ë¡ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." };
              }

              try {
                // ì¸¡ì • ê¸°ë¡ì˜ ì†Œìœ ê¶Œ ë˜ëŠ” ê°€ì¡± êµ¬ì„±ì› ì—¬ë¶€ í™•ì¸ ë¡œì§
                // activities/actions.tsì˜ updateActivity ì°¸ê³ 
                const existingMeasurement = await repository.findLatest(data.babyId); // findByIdì™€ ê°™ì€ íŠ¹ì • ê¸°ë¡ ì¡°íšŒ ë©”ì„œë“œê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ
                if (!existingMeasurement) {
                  return { success: false, error: "ì¸¡ì • ê¸°ë¡ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." };
                }
                // (Optional) ê°€ì¡± êµ¬ì„±ì› ê¶Œí•œ ê²€ì‚¬ ë¡œì§ ì¶”ê°€ (Prisma baby, family, familyMember ëª¨ë¸ í™œìš©)

                const updatedMeasurement = await updateMeasurementService(repository, id, data);
                revalidatePath(`/babies/${updatedMeasurement.babyId}`); // ê´€ë ¨ í˜ì´ì§€ ìºì‹œ ë¬´íš¨í™”
                return { success: true, data: updatedMeasurement };
              } catch (error: any) {
                console.error("ì¸¡ì • ê¸°ë¡ ìˆ˜ì • ì‹¤íŒ¨:", error);
                return { success: false, error: error.message || "ì¸¡ì • ê¸°ë¡ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" };
              }
            }

            export async function deleteMeasurement(
              id: string
            ): Promise<{ success: boolean; message?: string; error?: string }> {
              const session = await getServerSession(authOptions);
              if (!session?.user?.id) {
                return { success: false, error: "ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ ì¸¡ì • ê¸°ë¡ì„ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." };
              }

              try {
                // ì¸¡ì • ê¸°ë¡ì˜ ì†Œìœ ê¶Œ ë˜ëŠ” ê°€ì¡± êµ¬ì„±ì› ì—¬ë¶€ í™•ì¸ ë¡œì§
                // activities/actions.tsì˜ deleteActivity ì°¸ê³ 
                // (Optional) ê°€ì¡± êµ¬ì„±ì› ê¶Œí•œ ê²€ì‚¬ ë¡œì§ ì¶”ê°€ (Prisma baby, family, familyMember ëª¨ë¸ í™œìš©)
                
                const deletedMeasurement = await deleteMeasurementService(repository, id);
                revalidatePath(`/babies/${deletedMeasurement.babyId}`); // ê´€ë ¨ í˜ì´ì§€ ìºì‹œ ë¬´íš¨í™”
                return { success: true, message: "ì¸¡ì • ê¸°ë¡ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤." };
              } catch (error: any) {
                console.error("ì¸¡ì • ê¸°ë¡ ì‚­ì œ ì‹¤íŒ¨:", error);
                return { success: false, error: error.message || "ì¸¡ì • ê¸°ë¡ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" };
              }
            }
            ```
            *(ì°¸ê³ : `updateActivity` ë° `deleteActivity`ì—ì„œ ìˆ˜í–‰í•˜ëŠ” ì‚¬ìš©ì ê¶Œí•œ ê²€ì‚¬(ì˜ˆ: `session.user.id`ì™€ `activity.userId` ë˜ëŠ” `familyId` ë¹„êµ) ë¡œì§ì„ `updateMeasurement` ë° `deleteMeasurement`ì—ë„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ `PrismaMeasurementRepository`ì— `findById`ì™€ ê°™ì€ ë‹¨ì¼ ì¸¡ì • ê¸°ë¡ì„ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì–´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)*

### 3.2. ìš”ì²­ 2: ê°€ì¡± í˜ì´ì§€ - ì•„ê¸° ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ë¯¸í‘œì‹œ (ê¶Œí•œ ë¬¸ì œ í™•ì¸)

**ë¶„ì„:**
*   `BabyCard.tsx`ì—ì„œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ì´ `currentUserPermission`ì´ "owner" ë˜ëŠ” "admin"ì¼ ë•Œë§Œ ë Œë”ë§ë˜ë„ë¡ ì¡°ê±´ë¶€ ë¡œì§ì´ ëª…í™•í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
*   **ì •ë³´ ì „ë‹¬:** ì´ ë¬¸ì œëŠ” ê¸°ëŠ¥ êµ¬í˜„ì˜ ë²„ê·¸ë¼ê¸°ë³´ë‹¤ëŠ” ì‚¬ìš©ì ê¶Œí•œ ì„¤ì •(ë˜ëŠ” ì‚¬ìš©ì ê¸°ëŒ€ì¹˜)ê³¼ ê´€ë ¨ëœ ê²ƒì„ì„ AIê°€ ì¸ì§€í•˜ë„ë¡ ëª…í™•íˆ ì „ë‹¬í•©ë‹ˆë‹¤.
*   **ê¶Œí•œ ë¬¸ì œì™€ ì—°ê³„:** ì´ ë¬¸ì œëŠ” ì•„ë˜ **"ì‹ ê·œ ë¬¸ì œ 1: ìƒˆ ì•„ê¸° ë“±ë¡ ì‹œ ê¶Œí•œ ë¬¸ì œ"** ì™€ ì§ì ‘ì ìœ¼ë¡œ ì—°ê´€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê°€ì¡±ì„ ìƒì„±í•  ë•Œ ì‚¬ìš©ìê°€ `owner` ê¶Œí•œì„ ë°›ì§€ ëª»í•˜ë©´, ë³¸ì¸ì´ ìƒì„±í•œ ì•„ê¸°ì„ì—ë„ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ì´ ë³´ì´ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. AIëŠ” ì´ ë‘ ë¬¸ì œë¥¼ í•¨ê»˜ í•´ê²°í•´ì•¼ í•©ë‹ˆë‹¤.

### 3.3. ìš”ì²­ 3: ê°€ì¡± í˜ì´ì§€ - ì¹´ë“œ ì—¬ë°± ë¬¸ì œ

**ë¶„ì„:**
*   `src/features/families/components/FamilyManagementPage.tsx`ì—ì„œ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ë“¤(`InviteCodeCard`, `FamilyMembersList`, `EditMyProfileCard`, ê°€ì¡± ë‚˜ê°€ê¸°/ì‚­ì œ ì¹´ë“œ, ì•„ê¸° ëª©ë¡ ì¹´ë“œ)ì´ `SPACING` ìœ í‹¸ë¦¬í‹°ì™€ `Card`, `CardContent` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
*   ë©”ì¸ ì»¨í…Œì´ë„ˆ(`MobileContainer` ë°”ë¡œ ì•ˆìª½ `div`)ëŠ” `className={SPACING.space.lg}` (`space-y-6`, 24px)ë¡œ ì¹´ë“œ ì„¹ì…˜ë“¤ ê°„ì˜ ì„¸ë¡œ ê°„ê²©ì„ ì œì–´í•©ë‹ˆë‹¤.
*   "ê°€ì¡± ê´€ë¦¬" ë° "ìš°ë¦¬ ì•„ê¸°ë“¤" ì¹´ë“œì˜ `CardContent`ëŠ” `className={SPACING.space.sm}` (`space-y-3`, 12px)ì„ ì‚¬ìš©í•˜ì—¬ ë‚´ë¶€ ìš”ì†Œ ê°„ì˜ ì„¸ë¡œ ê°„ê²©ì„ ì œì–´í•©ë‹ˆë‹¤.
*   "ë‚´ í”„ë¡œí•„ í¸ì§‘"(`EditMyProfileCard`), "ê°€ì¡± ê´€ë¦¬" ì¹´ë“œ, "ìš°ë¦¬ ì•„ê¸°ë“¤" ì¹´ë“œ ì„¹ì…˜ì—ì„œ ì—¬ë°± ë¬¸ì œê°€ ë°œìƒí•˜ë©°, íŠ¹íˆ ë²„íŠ¼ë“¤ì´ ì¹´ë“œ ë°•ìŠ¤ì— ë¶™ì–´ ë³´ì´ëŠ” í˜„ìƒì´ ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **`src/features/families/components/FamilyManagementPage.tsx` ìˆ˜ì •:**
    *   **ë©”ì¸ ì»¨í…Œì´ë„ˆ ì¹´ë“œ ê°„ ì—¬ë°± ì¡°ì ˆ:** `MobileContainer` ë°”ë¡œ ì•ˆìª½ì— ìˆëŠ” `<div className={SPACING.space.lg}>`ì˜ `SPACING.space.lg`ë¥¼ `SPACING.space.xl` (`space-y-8`, 32px) ë˜ëŠ” ê·¸ ì´ìƒìœ¼ë¡œ ì¡°ì •í•˜ì—¬ ì¹´ë“œ ì„¹ì…˜ë“¤(`InviteCodeCard`, `FamilyMembersList`, `EditMyProfileCard` ë“±) ê°„ì˜ ì „ë°˜ì ì¸ ì„¸ë¡œ ê°„ê²©ì„ ëŠ˜ë¦½ë‹ˆë‹¤.
    *   **"ê°€ì¡± ê´€ë¦¬" ë° "ìš°ë¦¬ ì•„ê¸°ë“¤" ì¹´ë“œ ë‚´ë¶€ ì—¬ë°± ê°œì„ :**
        *   `<CardContent className={SPACING.space.sm}>`ì— ì§ì ‘ `py-4` (16px vertical padding) ë˜ëŠ” `py-6` (24px vertical padding)ì™€ ê°™ì€ Tailwind í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ì—¬ `CardContent`ì˜ ìƒí•˜ ë‚´ë¶€ ì—¬ë°±ì„ ëŠ˜ë¦½ë‹ˆë‹¤. `SPACING.space.sm`ì€ ë‚´ë¶€ ìš”ì†Œ ê°„ì˜ ê°„ê²©ìœ¼ë¡œ ìœ ì§€í•˜ê³ , `CardContent` ìì²´ì˜ íŒ¨ë”©ì„ ëŠ˜ë¦¬ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
        *   "ê°€ì¡± ê´€ë¦¬" ì¹´ë“œ ë‚´ ë²„íŠ¼(`Button` ì»´í¬ë„ŒíŠ¸)ê³¼ "ìš°ë¦¬ ì•„ê¸°ë“¤" ì¹´ë“œ ë‚´ "ì•„ê¸° ì¶”ê°€í•˜ê¸°" `Button`(`w-full mt-4`)ì˜ `className`ì„ ê²€í† í•©ë‹ˆë‹¤. `mt-4` (16px top margin)ê°€ íŠ¹ì • ìƒí™©ì—ì„œ ë¶€ì ì ˆí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë¶€ëª¨ `CardContent`ì˜ `space-y` ê°’ê³¼ ì¡°í™”ë˜ë„ë¡ `mt-3` (12px top margin) ë˜ëŠ” `mb-3` (12px bottom margin)ê³¼ ê°™ì€ ë‹¤ë¥¸ Tailwind í´ë˜ìŠ¤ë¥¼ ì ìš©í•˜ê±°ë‚˜ `mt-0`ìœ¼ë¡œ ì„¤ì •í•˜ê³  `CardContent`ì˜ `space-y`ê°€ ì¶©ë¶„í•œ ê°„ê²©ì„ ì œê³µí•˜ë„ë¡ ì¡°ì •í•©ë‹ˆë‹¤.
    *   **ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ í•˜ë‹¨ ì—¬ë°± ì¶”ê°€:** `InviteCodeCard`, `FamilyMembersList`, `EditMyProfileCard`ì™€ ê°™ì€ ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ì˜ ì‚¬ìš©ì²˜ì— `className="mb-4"` (margin-bottom: 16px) ë˜ëŠ” `mb-6` (24px)ë¥¼ ì¶”ê°€í•˜ì—¬ ê° ì»´í¬ë„ŒíŠ¸ í•˜ë‹¨ì— ì¼ê´€ëœ ì—¬ë°±ì„ ì œê³µí•˜ê³  ë‹¤ìŒ ì¹´ë“œì™€ì˜ ê°„ê²©ì„ í™•ë³´í•©ë‹ˆë‹¤. ì´ëŠ” `FamilyManagementPage.tsx` ë‚´ì—ì„œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” JSX ì½”ë“œì— ì§ì ‘ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:
        ```jsx
        <InviteCodeCard ... className="mb-4" />
        <FamilyMembersList ... className="mb-4" />
        {currentUserRelation && (
          <EditMyProfileCard ... className="mb-4" />
        )}
        ```
        (ì°¸ê³ : `InviteCodeCard`, `FamilyMembersList`, `EditMyProfileCard` ì»´í¬ë„ŒíŠ¸ê°€ `className` propì„ ë°›ì„ ìˆ˜ ìˆë„ë¡ ìˆ˜ì •ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

### 3.4. ìš”ì²­ 4: í™ˆ í™”ë©´ - ìƒˆ ì¼ì • ì¶”ê°€ ë²„íŠ¼

**ë¶„ì„:**
*   `src/app/babies/[id]/page.tsx`ì—ì„œ `CompactScheduleCarousel` ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë©ë‹ˆë‹¤. ì´ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ìê°€ ë§í•˜ëŠ” "ë‹¤ìŒ ì¼ì • ì²´í¬ ë°•ìŠ¤"ì…ë‹ˆë‹¤.
*   ì¼ì • ì¶”ê°€ ê¸°ëŠ¥ì€ `src/features/schedules` ëª¨ë“ˆì— ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **`src/features/schedules/components/CompactScheduleCarousel.tsx` ìˆ˜ì •:**
    *   **"ìƒˆ ì¼ì • ì¶”ê°€" ë²„íŠ¼ ì¶”ê°€:** ìºëŸ¬ì…€ì˜ í—¤ë” ì„¹ì…˜(`div className="flex items-center justify-between mb-2"`) ë‚´ë¶€ì— (ì¦‰, "ğŸ“… ë‹¤ìŒ ì¼ì •" ì œëª©ê³¼ "ì „ì²´" ë§í¬ ì˜†ì—) "ìƒˆ ì¼ì • ì¶”ê°€" ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. `Button` ì»´í¬ë„ŒíŠ¸(`variant="ghost"` ë˜ëŠ” `variant="outline"`), `size="icon"`, `Plus` ì•„ì´ì½˜(`lucide-react`ì—ì„œ import)ì„ í™œìš©í•˜ì—¬ ì‘ê³  ëª…í™•í•˜ê²Œ ë°°ì¹˜í•©ë‹ˆë‹¤. "ì „ì²´" ë§í¬ ì˜†ì— `gap-2` ì •ë„ì˜ ê°„ê²©ì„ ë‘ì–´ ì‹œê°ì ìœ¼ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.
    *   **ë²„íŠ¼ ì•¡ì…˜:** ì´ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ `Link` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ `"/babies/${babyId}?tab=timeline&action=addSchedule"` ê²½ë¡œë¡œ ì´ë™í•˜ë„ë¡ í•©ë‹ˆë‹¤. `action=addSchedule` ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ëŠ” `InteractiveScheduleTimeline` ì»´í¬ë„ŒíŠ¸ê°€ ìƒˆ ì¼ì • ì¶”ê°€ ëª¨ë‹¬ì„ ìë™ìœ¼ë¡œ ì—´ë„ë¡ ì§€ì‹œí•  ê²ƒì…ë‹ˆë‹¤.
    *   ì˜ˆì‹œ ì½”ë“œ êµ¬ì¡°:
        ```tsx
        // src/features/schedules/components/CompactScheduleCarousel.tsx ë‚´ì˜ <div className="flex items-center justify-between mb-2"> ì„¹ì…˜
        <div className="flex items-center justify-between mb-2">
          <h3 className="text-sm font-semibold text-gray-700 flex items-center gap-1.5">
            ğŸ“… ë‹¤ìŒ ì¼ì •
          </h3>
          <div className="flex items-center gap-2"> {/* ìƒˆë¡œìš´ divë¡œ ë²„íŠ¼ê³¼ ë§í¬ ë¬¶ê¸° */}
            <Link href={`/babies/${babyId}?tab=timeline&action=addSchedule`} passHref>
              <Button variant="ghost" size="icon" className="h-7 w-7 text-blue-600 hover:bg-blue-50">
                <Plus className="h-4 w-4" />
              </Button>
            </Link>
            <Link
              href={`/babies/${babyId}?tab=timeline`}
              className="text-xs text-blue-600 hover:text-blue-700 flex items-center gap-0.5"
            >
              ì „ì²´
              <ChevronRight className="h-3 w-3" />
            </Link>
          </div>
        </div>
        ```
2.  **`src/features/schedules/components/InteractiveScheduleTimeline.tsx` (ìˆ˜ì •):**
    *   ì´ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œ `useSearchParams` í›…ì„ ì‚¬ìš©í•˜ì—¬ URLì˜ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°(`action=addSchedule`)ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
    *   `action=addSchedule`ì´ ì¡´ì¬í•˜ë©´, `useEffect` í›… ë‚´ì—ì„œ ìƒíƒœ(ì˜ˆ: `isAddScheduleModalOpen`)ë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ ìƒˆ ì¼ì •ì„ ì¶”ê°€í•˜ëŠ” `Dialog` (ëª¨ë‹¬)ë¥¼ ìë™ìœ¼ë¡œ ì—´ê±°ë‚˜, ì¸ë¼ì¸ í¼ì„ í™•ì¥í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ì¼ì •ì„ ì¶”ê°€í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ëª¨ë‹¬/í¼ì´ ë‹«íˆë©´ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì œê±°í•˜ì—¬(`router.replace`) URLì„ ì •ë¦¬í•˜ê³  ëª¨ë‹¬ì´ ë‹¤ì‹œ ì—´ë¦¬ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.
    *   ì¼ì • ì¶”ê°€ í¼ì€ `ActivityForm`ì˜ íŒ¨í„´ì„ ì°¸ê³ í•˜ì—¬ êµ¬í˜„í•˜ë©°, í•„ìš”í•œ í•„ë“œ(ì œëª©, ë‚ ì§œ, ì‹œê°„, ë©”ëª¨ ë“±)ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
    *   ì¼ì • ì¶”ê°€ ì•¡ì…˜ì€ `src/features/schedules/actions.ts`ì— ìƒˆë¡œ ì •ì˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### 3.5. ì‹ ê·œ ë¬¸ì œ 1: ìƒˆ ì•„ê¸° ë“±ë¡ ì‹œ ê¶Œí•œ ë¬¸ì œ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)

**ë¶„ì„:**
*   ì‚¬ìš©ìê°€ ê¸°ì¡´ ê°€ì¡±ì—ì„œ ë‚˜ê°„ í›„ `CreateBabyForm`ì„ í†µí•´ ìƒˆë¡œìš´ ì•„ê¸°ë¥¼ ë“±ë¡í•˜ë©´, ìƒˆë¡œìš´ ê°€ì¡±ì´ ìƒì„±ë˜ê³  í•´ë‹¹ ì•„ê¸°ê°€ ì—°ê²°ë©ë‹ˆë‹¤. ì´ë•Œ `FamilyMember` ë ˆì½”ë“œë„ ìƒì„±ë˜ëŠ”ë°, ì—¬ê¸°ì„œ `permission` í•„ë“œê°€ `owner`ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê°’(ì˜ˆ: `member` ë˜ëŠ” ê¸°ë³¸ê°’)ìœ¼ë¡œ ì„¤ì •ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.
*   `CreateBabyForm`ì˜ ì œì¶œ ë¡œì§ (`src/features/babies/components/CreateBabyForm.tsx` -> `src/features/babies/actions.ts` -> `services` -> `repositories`)ì„ ë”°ë¼ê°€ë©° `FamilyMember` ìƒì„± ë¶€ë¶„ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **`src/features/families/repositories/PrismaFamilyRepository.ts` ìˆ˜ì • (í•µì‹¬ ë³€ê²½):**
    *   `createWithBabyAndMember` í•¨ìˆ˜ ë‚´ì—ì„œ `tx.family.create` í˜¸ì¶œ ì‹œ `FamilyMembers` ìƒì„± ë¶€ë¶„ì— `permission: 'owner'`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.
    *   `Family` ëª¨ë¸ì— `ownerId` í•„ë“œê°€ ìˆë‹¤ë©´, ì´ í•„ë“œë„ `userId`ë¡œ ì„¤ì •í•˜ë„ë¡ ì¶”ê°€í•©ë‹ˆë‹¤. (í˜„ì¬ `Family` ëª¨ë¸ì— `ownerId`ê°€ ì—†ëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ë©°, `FamilyMember`ì˜ `permission: 'owner'`ë¡œ ì†Œìœ ìë¥¼ ì‹ë³„í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.)
    *   **êµ¬ì²´ì ì¸ ì½”ë“œ ìŠ¤ë‹ˆí«:**
        ```typescript
        // src/features/families/repositories/PrismaFamilyRepository.ts ë‚´ createWithBabyAndMember í•¨ìˆ˜
        // ...
        const newFamily = await prisma.$transaction(async (tx) => {
          const family = await tx.family.create({
            data: {
              name: `${babyData.name}ì˜ ê°€ì¡±`,
              inviteCode,
              // Family ëª¨ë¸ì— ownerId í•„ë“œê°€ ìˆë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€ (ì˜ˆ: ownerId: userId,)
              Babies: {
                create: babyData,
              },
              FamilyMembers: {
                create: {
                  userId,
                  role: 'parent',
                  relation: 'parent',
                  permission: 'owner', // <-- ì´ ë¶€ë¶„ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
                },
              },
            },
            // ... select í•„ë“œ ìœ ì§€
          });
          return family;
        });
        // ...
        ```
2.  **`src/features/babies/actions.ts` ë° `src/features/babies/services/createBabyService.ts` ê²€í† :**
    *   ì´ íŒŒì¼ë“¤ì€ `PrismaFamilyRepository`ì˜ `createWithBabyAndMember`ë¥¼ í˜¸ì¶œí•˜ë¯€ë¡œ, ì¶”ê°€ì ì¸ ìˆ˜ì •ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ë§Œ, `createBaby` ì•¡ì…˜ì—ì„œ `FamilyMembers` ìƒì„± ì‹œ `permission` í•„ë“œê°€ `owner`ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•˜ëŠ” ê²ƒë„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3.6. ì‹ ê·œ ë¬¸ì œ 2: ìƒˆ ì•„ê¸° ë“±ë¡ í›„ 2ë…„ê°„ì˜ ì¼ì • ìë™ ìƒì„± ë¯¸í™•ì¸ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)

**ë¶„ì„:**
*   ì¼ì • ìƒì„± ë¡œì§ì€ ì¡´ì¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ë‚˜, ì‚¬ìš©ìì—ê²Œ ì‹œê°ì ìœ¼ë¡œ ëª…í™•í•˜ê²Œ í™•ì¸ì‹œì¼œì£¼ëŠ” ë‹¨ê³„ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. í˜„ì¬ "í™•ì¸" ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í™ˆ í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ë¡œì§ì´ ìˆì§€ë§Œ, ì´ "í™•ì¸" ë²„íŠ¼ì˜ ë§¥ë½ì´ ë¶ˆë¶„ëª…í•©ë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **`src/features/babies/components/CreateBabyForm.tsx` ìˆ˜ì •:**
    *   **ì¼ì • ì¡°íšŒ ë¡œì§ ê°•í™” ë° ì‹œê°ì  í”¼ë“œë°± ê°œì„ :**
        *   `createBaby` ì•¡ì…˜ í˜¸ì¶œ í›„ `getAllSchedulesForBaby(babyId)` í˜¸ì¶œ ì‹œ `limit`ë¥¼ ì¶©ë¶„íˆ í¬ê²Œ ì„¤ì •(ì˜ˆ: `limit: 500`)í•˜ì—¬ ìƒì„±ëœ 2ë…„ê°„ì˜ ëª¨ë“  ì¼ì •ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. (ë§Œì•½ 2ë…„ê°„ì˜ ì¼ì •ì´ 500ê°œë¥¼ ì´ˆê³¼í•  ìˆ˜ ìˆë‹¤ë©´, í˜ì´ì§€ë„¤ì´ì…˜ ì—†ì´ ëª¨ë“  ì¼ì •ì„ ê°€ì ¸ì˜¤ëŠ” ë³„ë„ ì•¡ì…˜ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
        *   `setTimeout(resolve, 1000)`ì€ ë„¤íŠ¸ì›Œí¬ ì§€ì—° ë° ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë°‹ ì‹œê°„ì„ í™•ë³´í•˜ê¸° ìœ„í•¨ì´ì§€ë§Œ, ì¼ì • ìƒì„± ì™„ë£Œë¥¼ í™•ì‹¤íˆ ë³´ì¥í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. ë” ê²¬ê³ í•œ ë°©ë²•ìœ¼ë¡œ `createBaby` ì•¡ì…˜ì´ ì¼ì • ìƒì„± ê²°ê³¼(`scheduleResult.data.count`)ë¥¼ í•¨ê»˜ ë°˜í™˜í•˜ë„ë¡ ìˆ˜ì •í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì´ `count`ì™€ ì¡°íšŒëœ ì¼ì •ì˜ `length`ë¥¼ ë¹„êµí•˜ì—¬ ëª¨ë“  ì¼ì •ì´ ì¡°íšŒë˜ì—ˆìŒì„ í™•ì‹ í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.
        *   ì¼ì • ì¡°íšŒ(`getAllSchedulesForBaby`) ì„±ê³µ í›„, `babyInfo` ìƒíƒœì— `schedulesCount`ì™€ ê°™ì€ í•„ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ë‹¤ì´ì–¼ë¡œê·¸ë¡œ ì „ë‹¬í•˜ê³ , ë‹¤ì´ì–¼ë¡œê·¸ ë‚´ì—ì„œ "ì´ [schedulesCount]ê°œì˜ ì¼ì •ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."ì™€ ê°™ì€ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ì—¬ ëª…í™•ì„±ì„ ë†’ì…ë‹ˆë‹¤.
2.  **`src/features/babies/components/BabySchedulePreviewDialog.tsx` (ìˆ˜ì •):**
    *   **ë‚´ìš© ëª…í™•í™”:** ì´ ë‹¤ì´ì–¼ë¡œê·¸ì˜ ì œëª©ì„ "ìƒˆ ì•„ê¸°ë¥¼ ìœ„í•œ 2ë…„ê°„ì˜ ìë™ ìƒì„± ì¼ì •"ê³¼ ê°™ì´ ëª…í™•íˆ ë³€ê²½í•©ë‹ˆë‹¤.
    *   **ì¼ì • ëª©ë¡ ê°•ì¡° ë° ìš”ì•½:** ë‹¤ì´ì–¼ë¡œê·¸ ë‚´ì—ì„œ `schedules` Propìœ¼ë¡œ ì „ë‹¬ë°›ì€ ì¼ì • ëª©ë¡ì„ ì‹œê°ì ìœ¼ë¡œ ê°•ì¡°í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ìƒˆë¡œ ìƒì„±ëœ ì¼ì •ë“¤ì´ ë§ìŒì„ ëª…í™•íˆ ë³´ì—¬ì¤ë‹ˆë‹¤. ì£¼ìš” ì¼ì •(ì˜ˆ: ì˜ˆë°© ì ‘ì¢…, ê±´ê°• ê²€ì§„ ë“±)ì„ ìš”ì•½ëœ ëª©ë¡ í˜•íƒœë¡œ ë³´ì—¬ì£¼ê±°ë‚˜, "ì´ Xê°œì˜ ì¼ì •ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤"ì™€ ê°™ì€ ë©”ì‹œì§€ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
    *   **"í™•ì¸" ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½:** í˜„ì¬ "í™•ì¸" ë²„íŠ¼ì´ ë¬´ì—‡ì„ í™•ì¸í•˜ëŠ”ì§€ ë¶ˆë¶„ëª…í•˜ë¯€ë¡œ, "ì¼ì • í™•ì¸ í›„ ëŒ€ì‹œë³´ë“œë¡œ ì´ë™" ë˜ëŠ” "ë‚´ ì•„ê¸° ì¼ì • í™•ì¸ ì™„ë£Œ"ì™€ ê°™ì´ í…ìŠ¤íŠ¸ë¥¼ ë³€ê²½í•˜ì—¬ ì‚¬ìš©ìê°€ ë‹¤ìŒ í–‰ë™ì„ ëª…í™•íˆ ì´í•´í•˜ë„ë¡ í•©ë‹ˆë‹¤.
3.  **`src/features/babies/actions.ts` ìˆ˜ì •:**
    *   `createBaby` í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì— `scheduleResult.data.count`ë¥¼ í¬í•¨í•˜ë„ë¡ ìˆ˜ì •í•˜ì—¬, í´ë¼ì´ì–¸íŠ¸(`CreateBabyForm.tsx`)ì—ì„œ ì¼ì • ìƒì„± ê°œìˆ˜ë¥¼ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.
    *   ì˜ˆì‹œ: `return { success: true, data: { baby: result.baby, schedulesCount: scheduleResult.data.count } };`

### 3.7. ì‹ ê·œ ë¬¸ì œ 3: ì•„ê¸° ë“±ë¡ í™”ë©´ì˜ UI/UX ë¬¸ì œ (ì»¨í…Œì´ë„ˆ ì—¬ë°± ë° ì¼ê´€ì„±)

**ë¶„ì„:**
*   `CreateBabyForm`ì€ í˜„ì¬ `src/app/page.tsx`ì—ì„œ `<Card>` ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë Œë”ë§ë©ë‹ˆë‹¤. `CardHeader`ì™€ `CardContent`ì˜ íŒ¨ë”©ì´ `CreateBabyForm` ìì²´ì˜ ë‚´ë¶€ ìš”ì†Œì™€ ê²°í•©í•˜ì—¬ ìƒí•˜ ì—¬ë°±ì´ ë¶€ì¡±í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **`src/app/page.tsx` ìˆ˜ì •:**
    *   `CreateBabyForm`ì„ ê°ì‹¸ëŠ” `CardContent`ì˜ `className`ì„ í™•ì¸í•˜ê³  `py-` (vertical padding) ë˜ëŠ” `space-y-` (vertical spacing) í´ë˜ìŠ¤ë¥¼ ì¡°ì •í•˜ì—¬ í¼ ë‚´ë¶€ ìš”ì†Œì™€ `CardContent` ê²½ê³„ ì‚¬ì´ì— ì¶©ë¶„í•œ ì—¬ë°±ì„ í™•ë³´í•©ë‹ˆë‹¤.
2.  **`CreateBabyForm.tsx` ë‚´ë¶€ ì¡°ì •:**
    *   `src/features/babies/components/CreateBabyForm.tsx` ì»´í¬ë„ŒíŠ¸ ìì²´ ë‚´ë¶€ì— `space-y-` í´ë˜ìŠ¤ ë“±ì„ í™œìš©í•˜ì—¬ ë‚´ë¶€ í¼ ìš”ì†Œë“¤(ì…ë ¥ í•„ë“œ, ë²„íŠ¼ ë“±) ì‚¬ì´ì˜ ê°„ê²©ì„ ì¼ê´€ë˜ê³  ì¶©ë¶„í•˜ê²Œ ì¡°ì ˆí•©ë‹ˆë‹¤.

    ### 3.7. ì‹ ê·œ ë¬¸ì œ 3: ì•„ê¸° ë“±ë¡ í™”ë©´ì˜ UI/UX ë¬¸ì œ (ì»¨í…Œì´ë„ˆ ì—¬ë°± ë° ì¼ê´€ì„±)
     
     **ë¶„ì„:**
     *   `CreateBabyForm`ì€ í˜„ì¬ `src/app/page.tsx`ì—ì„œ `<Card>` ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë Œë”ë§ë©ë‹ˆë‹¤. `CardHeader`ì™€ 
      `CardContent`ì˜ íŒ¨ë”©ì´ `CreateBabyForm` ìì²´ì˜ ë‚´ë¶€ ìš”ì†Œì™€ ê²°í•©í•˜ì—¬ ìƒí•˜ ì—¬ë°±ì´ ë¶€ì¡±í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
     *   `src/app/page.tsx`ì—ì„œ `CreateBabyForm`ì„ ê°ì‹¸ëŠ” `CardContent`ëŠ” ê¸°ë³¸ `p-6` (24px) íŒ¨ë”©ì„ ê°€ì§‘ë‹ˆë‹¤. 
      `CreateBabyForm` ë‚´ë¶€ì˜ `form` íƒœê·¸ëŠ” `className={SPACING.space.md}` (`space-y-4`, 16px)ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ë“œ ê°„ 
      ê°„ê²©ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.
     
     **í•´ê²° ë°©ì•ˆ:**
     1.  **`src/app/page.tsx` ìˆ˜ì •:**
         *   `CreateBabyForm`ì„ ê°ì‹¸ëŠ” `CardContent` ì»´í¬ë„ŒíŠ¸ (`src/app/page.tsx` ë¼ì¸ 45)ì˜ `className`ì„ ëª…ì‹œì ìœ¼ë¡œ
      ì¡°ì •í•˜ì—¬ ìƒí•˜ ì—¬ë°±ì„ í™•ë³´í•©ë‹ˆë‹¤. `shadcn/ui`ì˜ ê¸°ë³¸ `CardContent` íŒ¨ë”©ì´ `p-6` (24px) ì •ë„ì¸ ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ, 
      ì‚¬ìš©ì í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ `py-8` (32px) ë˜ëŠ” `py-10` (40px)ê³¼ ê°™ì´ ìƒí•˜ íŒ¨ë”©ì„ ì§ì ‘ ì§€ì •í•´ì¤ë‹ˆë‹¤.
        *   **êµ¬ì²´ì ì¸ ì½”ë“œ ìŠ¤ë‹ˆí«:**
          // src/app/page.tsx (ì•½ 45ë²ˆì§¸ ì¤„)
          // ...
          <CardContent className="py-8"> {/* ê¸°ì¡´ className ìœ ì§€ ë˜ëŠ” py-8 ì¶”ê°€ */}
            <CreateBabyForm />
          </CardContent>
          // ...

    2.  **`src/features/babies/components/CreateBabyForm.tsx` ë‚´ë¶€ ì¡°ì •:**
        *   `form` íƒœê·¸ (`src/features/babies/components/CreateBabyForm.tsx` ë‚´ ì•½ 85ë²ˆì§¸ ì¤„)ì— ì ìš©ëœ 
     `className={SPACING.space.md}`ëŠ” ë‚´ë¶€ ìš”ì†Œë“¤ ì‚¬ì´ì— `space-y-4` (16px)ë¥¼ ì œê³µí•©ë‹ˆë‹¤. í¼ ë‚´ë¶€ ìš”ì†Œë“¤(FormField, 
     Button) ì‚¬ì´ì˜ ê°„ê²©ì´ ë” í•„ìš”í•˜ë‹¤ë©´ `SPACING.space.lg` (`space-y-6`, 24px) ë“±ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ í¼ ë‚´ë¶€ì˜ ì„¸ë¡œ ê°„ê²©ì„
     ëŠ˜ë¦½ë‹ˆë‹¤. ì´ëŠ” í¼ ì „ì²´ì˜ ì‘ì§‘ë„ë¥¼ ìœ ì§€í•˜ë©´ì„œë„ ë‹µë‹µí•¨ì„ í•´ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        *   **êµ¬ì²´ì ì¸ ì½”ë“œ ìŠ¤ë‹ˆí«:**
          // src/features/babies/components/CreateBabyForm.tsx
          // ...
          <form onSubmit={handleSubmit} className={SPACING.space.lg}> {/* SPACING.space.md -> SPACING.space.lgë¡œ ë³€ê²½
  ê³ ë ¤ */}
          // ...
          </form>
          // ...

        *   ë§Œì•½ `CreateBabyForm`ì´ ë‹¤ë¥¸ ì»¨í…ìŠ¤íŠ¸(ì˜ˆ: ëª¨ë‹¬)ì—ì„œ ì¬ì‚¬ìš©ëœë‹¤ë©´, í•´ë‹¹ ì»¨í…ìŠ¤íŠ¸ì—ì„œë„ ì¼ê´€ëœ ì—¬ë°±ì„ ê°€ì§ˆ
     ìˆ˜ ìˆë„ë¡, `CreateBabyForm` ìì²´ì— ê¸°ë³¸ `py-` ê°’ì„ ì„¤ì •í•˜ê±°ë‚˜ `className` propì„ ë°›ì•„ ìœ ì—°í•˜ê²Œ ì¡°ì •í•  ìˆ˜ ìˆë„ë¡ 
     êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•©ë‹ˆë‹¤. (í˜„ì¬ëŠ” `src/app/page.tsx`ê°€ ì£¼ ì‚¬ìš©ì²˜ë¡œ ë³´ì„)

### 3.8. ì‹ ê·œ ë¬¸ì œ 4: ì‚¬ìš©ì ê¸¸ ìƒëŠ” í˜„ìƒ ë°©ì§€ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)

**ë¶„ì„:**
*   í˜„ì¬ ë¡œì§ì€ `src/app/page.tsx`ì—ì„œ `mainBaby`ê°€ ì—†ì„ ê²½ìš° `CreateBabyForm`ì„ ë³´ì—¬ì£¼ì§€ë§Œ, ì‚¬ìš©ìê°€ ì´ í˜ì´ì§€ë¥¼ ì´íƒˆí–ˆì„ ë•Œ ì¬ì§„ì…ì„ ê°•ì œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
*   ì´ëŸ¬í•œ ì „ì—­ì ì¸ íë¦„ ì œì–´ëŠ” `middleware.ts`ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì í•©í•©ë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **`middleware.ts` ìˆ˜ì •:**
    *   `middleware.ts`ì— ì‚¬ìš©ì ì„¸ì…˜ ì •ë³´ ë° í˜„ì¬ ì•„ê¸°/ê°€ì¡± ìœ ë¬´ë¥¼ í™•ì¸í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
    *   ë§Œì•½ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆì§€ë§Œ `mainBaby` (ë˜ëŠ” í™œì„± ê°€ì¡±)ê°€ ì—†ëŠ” ìƒíƒœì´ê³ , í˜„ì¬ ìš”ì²­ ê²½ë¡œê°€ `/login`, `/add-baby`, `/family` ë“± ì•„ê¸°/ê°€ì¡± ë“±ë¡/ì°¸ì—¬ì™€ ê´€ë ¨ ì—†ëŠ” ê²½ë¡œë¼ë©´, `/add-baby` (ì•„ê¸° ë“±ë¡ í¼ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€) ë˜ëŠ” `/family` (ìƒˆ ê°€ì¡± ë§Œë“¤ê¸° ì˜µì…˜ì´ ì¶”ê°€ëœ í˜ì´ì§€)ë¡œ ê°•ì œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•©ë‹ˆë‹¤.
    *   `mainBaby` ì •ë³´ë¥¼ `prisma.baby.findFirst` ë“±ìœ¼ë¡œ ì¡°íšŒí•´ì•¼ í•˜ë©°, ì´ëŠ” `getServerSession`ì„ í†µí•œ `userId`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

### 3.9. ì‹ ê·œ ë¬¸ì œ 5: ê°€ì¡± í˜ì´ì§€ ì§„ì… ì‹œ ì„ íƒì§€ ë¶€ì¡± (ê°€ì¡± ë‚˜ê°€ê¸° í›„)

**ë¶„ì„:**
*   `FamilyManagementPage.tsx`ì—ì„œ `!familyData`ì¼ ë•Œ ë Œë”ë§ë˜ëŠ” UIëŠ” "ì•„ì§ ê°€ì¡±ì´ ì—†ìŠµë‹ˆë‹¤." ë©”ì‹œì§€ì™€ "ì´ˆëŒ€ ì½”ë“œë¡œ ê°€ì¡± ì°¸ì—¬" ë²„íŠ¼ë§Œ ì œê³µí•©ë‹ˆë‹¤. ìƒˆë¡œìš´ ê°€ì¡±ì„ ì‹œì‘í•˜ë ¤ëŠ” ì‚¬ìš©ìë¥¼ ìœ„í•œ ëª…í™•í•œ ê²½ë¡œê°€ ì—†ìŠµë‹ˆë‹¤.

**í•´ê²° ë°©ì•ˆ:**
1.  **`FamilyManagementPage.tsx` ìˆ˜ì •:**
    *   `!familyData` ì¡°ê±´ë¶€ ë Œë”ë§ ì„¹ì…˜ ë‚´ì—ì„œ "ì´ˆëŒ€ ì½”ë“œë¡œ ê°€ì¡± ì°¸ì—¬" ë²„íŠ¼ê³¼ í•¨ê»˜ **"ìƒˆë¡œìš´ ê°€ì¡± ë§Œë“¤ê¸°" ë²„íŠ¼**ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
    *   "ìƒˆë¡œìš´ ê°€ì¡± ë§Œë“¤ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ `/add-baby` ê²½ë¡œ(ì•„ê¸° ë“±ë¡ í¼ í˜ì´ì§€)ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•˜ì—¬ ìƒˆë¡œìš´ ì•„ê¸° ë“±ë¡ê³¼ í•¨ê»˜ ê°€ì¡±ì´ ìƒì„±ë˜ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.

## 4. ìš°ì„ ìˆœìœ„ ë° êµ¬í˜„ ìˆœì„œ ì œì•ˆ (Prioritization & Implementation Order)

AIëŠ” ë‹¤ìŒ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì‘ì—…ì„ ì§„í–‰í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ í° ë¬¸ì œë¶€í„° í•´ê²°í•˜ë„ë¡ í•©ë‹ˆë‹¤.

### 4.1. ë†’ì€ ìš°ì„ ìˆœìœ„ (Critical User Flow Fixes)

1.  **ì‹ ê·œ ë¬¸ì œ 4: ì‚¬ìš©ì ê¸¸ ìƒëŠ” í˜„ìƒ ë°©ì§€ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)**
    *   `middleware.ts`ì— ë¯¸ë“±ë¡ ì‚¬ìš©ì ê°•ì œ ë¦¬ë‹¤ì´ë ‰ì…˜ ë¡œì§ êµ¬í˜„. (ê°€ì¥ ì‹œê¸‰)
2.  **ì‹ ê·œ ë¬¸ì œ 1: ìƒˆ ì•„ê¸° ë“±ë¡ ì‹œ ê¶Œí•œ ë¬¸ì œ (ê°€ì¡± ë‚˜ê°€ê¸° í›„)**
    *   `CreateBabyForm` ë° ê´€ë ¨ ì•¡ì…˜/ì„œë¹„ìŠ¤ì—ì„œ `FamilyMember`ì˜ `permission`ì„ `owner`ë¡œ ì •í™•íˆ ì„¤ì •í•˜ë„ë¡ ìˆ˜ì •. (í•µì‹¬ ê¸°ëŠ¥)
3.  **ì‹ ê·œ ë¬¸ì œ 5: ê°€ì¡± í˜ì´ì§€ ì§„ì… ì‹œ ì„ íƒì§€ ë¶€ì¡± ê°œì„  (ìƒˆ ê°€ì¡± ë§Œë“¤ê¸° ì˜µì…˜ ì¶”ê°€)**
    *   `FamilyManagementPage.tsx`ì˜ `!familyData` ì„¹ì…˜ì— "ìƒˆë¡œìš´ ê°€ì¡± ë§Œë“¤ê¸°" ë²„íŠ¼ ì¶”ê°€. (íë¦„ ê°œì„ )
4.  **ì‹ ê·œ ë¬¸ì œ 2: ìƒˆ ì•„ê¸° ë“±ë¡ í›„ 2ë…„ê°„ ì¼ì • ìë™ ìƒì„± í™•ì¸ UI ê°œì„  (ê°€ì¡± ë‚˜ê°€ê¸° í›„)**
    *   ì•„ê¸° ë“±ë¡ ì™„ë£Œ í›„ ìƒì„±ëœ ì¼ì •ì— ëŒ€í•œ ëª…í™•í•œ UI í”¼ë“œë°± ì œê³µ (ëª¨ë‹¬ ë˜ëŠ” í˜ì´ì§€ ë‚´ ì„¹ì…˜). (ì‚¬ìš©ì í˜¼ë€ ë°©ì§€)

### 4.2. ì¤‘ê°„ ìš°ì„ ìˆœìœ„ (Feature Enhancements & Minor Flow Improvements)

1.  **ìš”ì²­ 1: í‚¤ ì²´ì¤‘ ê¸°ë¡ í™”ë©´ ê°œì„  (íˆìŠ¤í† ë¦¬ ëª©ë¡, ìˆ˜ì •/ì‚­ì œ)**
    *   `measurements` ëª¨ë“ˆì— `activities` íŒ¨í„´ì„ ì°¸ê³ í•˜ì—¬ CRUD ê¸°ëŠ¥ ë° íˆìŠ¤í† ë¦¬ UI êµ¬í˜„. (ì£¼ìš” ê¸°ëŠ¥ í™•ì¥)
2.  **ìš”ì²­ 4: í™ˆ í™”ë©´ - ìƒˆ ì¼ì • ì¶”ê°€ ë²„íŠ¼**
    *   `CompactScheduleCarousel`ì— ì¼ì • ì¶”ê°€ ë²„íŠ¼ ë° ëª¨ë‹¬/í˜ì´ì§€ ì—°ê²°. (í¸ì˜ì„± ì¦ëŒ€)

### 4.3. ë‚®ì€ ìš°ì„ ìˆœìœ„ (UI/UX Refinements)

1.  **ìš”ì²­ 3: ê°€ì¡± í˜ì´ì§€ - ì¹´ë“œ ì—¬ë°± ë¬¸ì œ**
    *   `FamilyManagementPage.tsx` ë° ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ì˜ ì—¬ë°± ì¡°ì •. (ì‹œê°ì  ê°œì„ )
2.  **ì‹ ê·œ ë¬¸ì œ 3: ì•„ê¸° ë“±ë¡ í™”ë©´ì˜ UI/UX ì—¬ë°± ì¼ê´€ì„±**
    *   `CreateBabyForm` ì»¨í…Œì´ë„ˆ ë° ë‚´ë¶€ ìš”ì†Œì˜ ì—¬ë°± ì¡°ì •. (ì‹œê°ì  ê°œì„ )

### 4.4. ì •ë³´ ì „ë‹¬ (No Direct Implementation Needed)

1.  **ìš”ì²­ 2: ê°€ì¡± í˜ì´ì§€ - ì•„ê¸° ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ë¯¸í‘œì‹œ**
    *   ì´ëŠ” ê¶Œí•œ(owner/admin)ì— ë”°ë¥¸ ì˜ë„ëœ ë™ì‘ì´ë©°, **"ì‹ ê·œ ë¬¸ì œ 1: ìƒˆ ì•„ê¸° ë“±ë¡ ì‹œ ê¶Œí•œ ë¬¸ì œ"** ê°€ í•´ê²°ë˜ë©´ ë³¸ì¸ì´ ë“±ë¡í•œ ì•„ê¸°ì— ëŒ€í•´ì„œëŠ” ë²„íŠ¼ì´ ë³´ì´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.

## 5. í…ŒìŠ¤íŠ¸ ìš”êµ¬ì‚¬í•­ (Testing Requirements)

AIëŠ” ê° ê¸°ëŠ¥ì„ êµ¬í˜„í•œ í›„ ë‹¤ìŒ ìœ í˜•ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

*   **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Tests):** ìƒˆë¡œ ì¶”ê°€ë˜ê±°ë‚˜ ìˆ˜ì •ëœ ì„œë¹„ìŠ¤, ë ˆí¬ì§€í† ë¦¬, ì•¡ì…˜ ë¡œì§ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸. íŠ¹íˆ ê¶Œí•œ, ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬, ìºì‹œ ë¬´íš¨í™” ë¡œì§.
*   **í†µí•© í…ŒìŠ¤íŠ¸ (Integration Tests):** UI ì»´í¬ë„ŒíŠ¸ì™€ ì•¡ì…˜/ì„œë¹„ìŠ¤ ê°„ì˜ ì—°ë™, ë°ì´í„° íë¦„ì´ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸.
*   **E2E í…ŒìŠ¤íŠ¸ (End-to-End Tests):**
    *   **í•µì‹¬ ì‚¬ìš©ì íë¦„:**
        *   ìµœì´ˆ ì‚¬ìš©ì ê°€ì… ë° ì•„ê¸° ë“±ë¡ -> `owner` ê¶Œí•œ ë¶€ì—¬ í™•ì¸.
        *   `owner` ê¶Œí•œìœ¼ë¡œ ì•„ê¸° ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ê°€ì‹œì„± ë° ë™ì‘ í™•ì¸.
        *   `member` ê¶Œí•œìœ¼ë¡œ ì•„ê¸° ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ë¹„ê°€ì‹œì„± í™•ì¸.
        *   ê°€ì¡± ë‚˜ê°€ê¸° -> `mainBaby` ì—†ëŠ” ìƒíƒœ -> ë‹¤ë¥¸ í˜ì´ì§€ ì ‘ê·¼ ì‹œ ì•„ê¸° ë“±ë¡ í™”ë©´ìœ¼ë¡œ ìë™ ë¦¬ë‹¤ì´ë ‰ì…˜ í™•ì¸.
        *   ê°€ì¡± ë‚˜ê°€ê¸° -> ê°€ì¡± í˜ì´ì§€ ì§„ì… ì‹œ "ì´ˆëŒ€ ì½”ë“œë¡œ ê°€ì¡± ì°¸ì—¬"ì™€ "ìƒˆë¡œìš´ ê°€ì¡± ë§Œë“¤ê¸°" ì˜µì…˜ ëª¨ë‘ ê°€ì‹œì„± í™•ì¸.
        *   "ìƒˆë¡œìš´ ê°€ì¡± ë§Œë“¤ê¸°" íë¦„ì„ í†µí•´ ì•„ê¸° ë“±ë¡ -> `owner` ê¶Œí•œ ë¶€ì—¬ ë° 2ë…„ ì¼ì • ìƒì„±/í™•ì¸ UI íë¦„ í™•ì¸.
    *   í‚¤ ì²´ì¤‘ ê¸°ë¡ íˆìŠ¤í† ë¦¬ ëª©ë¡ í‘œì‹œ, ê°œë³„ ê¸°ë¡ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ê²€ì¦.
    *   í™ˆ í™”ë©´ì˜ ìƒˆ ì¼ì • ì¶”ê°€ ë²„íŠ¼ ë™ì‘ ë° ì¼ì • ìƒì„± íë¦„ ê²€ì¦.
    *   ê°€ì¡± í˜ì´ì§€ ë° ì•„ê¸° ë“±ë¡ í˜ì´ì§€ì˜ UI ì—¬ë°± ê°œì„  í™•ì¸.

AIëŠ” ìœ„ì— ëª…ì‹œëœ ìš°ì„ ìˆœìœ„ì™€ ìƒì„¸ ê³„íšì„ ì¤€ìˆ˜í•˜ì—¬ Babycare AI ì„œë¹„ìŠ¤ì˜ ì‚¬ìš©ì ê²½í—˜ì„ íšê¸°ì ìœ¼ë¡œ ê°œì„ í•´ì£¼ê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.
